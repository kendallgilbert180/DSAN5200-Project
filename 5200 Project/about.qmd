---
title: "Quantifying International Prosperity"
code-fold: true
---
## Introduction 

How can we quantify the wellbeing of the individual in various countries? Are some countries more prosperous than others? Can they even be compared? All too often, data scientists fall into the trap of Operationalization. By mis-equating metrics with reality, it is easy to oversimplify extremely complicated and nuanced situations. For example, it is often claimed that policing makes communities safer - but how exactly can we measure safety? At the national scale, this becomes even more complicated. Can countries with billions of people be compared to ones with several hundred thousand? There are countless potential avenues of measurement; Yet it is all too easy to fall into the trap of measuring a countrie's prosperity with the classical metric: GDP. 
In this exploration, we will conduct a preliminary investigation into other potential ways to quantify a country's wellbeing, ultimately suggesting that steps be taken to make this process more holistic

This analysis will dive deeper into factors regarding healthcare, social spending on family benefits, wealth distribution and population trends (life expectancy, birth rates) in an attempt to quantify a country's wellbeing. 


a great reference: 
Stiglitz, Joseph E., Amartya Sen, and Jean-Paul Fitoussi. 2010. Mismeasuring Our Lives: Why GDP Doesn’t Add Up. The New Press.

## GDP 

## Healthcare

## Social Spending 

Another important factor that can determine the well-being of a country is social spending in regards to family benefits. OECD countries spend on average 2.29% of GDP on family benefits, with large variations across countries. These variations are evident as illustrated in the bubble chart below. 

This spending is beneficial for numerous reasons. First, family benefits help families meet their basic needs. These benefits provide financial assistance that can help with the costs of having a family. By helping families meet their basic needs, social spending on family benefits can improve over wellbeing. Furthermore, spending money on family benefits can directly impact child well-being, healthier work-life balance for parents and economic growth. By supporting families and enabling parents to remain in or return to the workforce, these policies contribute to overall economic stability and prosperity.

Based on the chart below you can see countries like Iceland, Estonia and Luxembourg dedicate a large percentage of their GDP towards family benefits. Countries like this are notorious for prioritizing well-being and it is proven to be working. 

** Will change colors  / labels / axises just wanted to put in for now

```{python}
import pandas as pd
import plotly.graph_objects as go
import numpy as np


# Read / Cleaning the data
social_spending = pd.read_csv("Data_cleaned/social_spending.csv", header=1)
gdp = pd.read_csv("Data_cleaned/gdp.csv")
gdp['gdp'] = gdp['gdp'].replace('..', np.nan)
gdp['gdp'] = gdp['gdp'].str.replace(',', '')
gdp['gdp'] = gdp['gdp'].astype(float)
social_spending = social_spending.rename(columns={'Year': 'Country'})
social_spending = social_spending.applymap(lambda x: x.strip() if isinstance(x, str) else x)
social_spending = pd.melt(social_spending, id_vars=['Country'], var_name='Year', value_name='s_s')
social_spending['Country_Year'] = social_spending['Country'] + '_' + social_spending['Year'].astype(str)

merged_data = pd.merge(gdp, social_spending, on=['Country_Year'])
merged_data['gdp'] = pd.to_numeric(merged_data['gdp'], errors='coerce')
merged_data['s_s'] = pd.to_numeric(merged_data['s_s'], errors='coerce')
#merged_data['gdp'] = merged_data['gdp'].fillna(merged_data['gdp'].mean())
#merged_data['s_s'] = merged_data['s_s'].fillna(merged_data['s_s'].mean())


average_social_spending = merged_data.groupby('Country')['s_s'].mean().reset_index()
average_gdp = merged_data.groupby('Country')['gdp'].mean().reset_index()
average_data = pd.merge(average_social_spending, average_gdp, on='Country', suffixes=('_s_s', '_gdp'))
average_data['s_s_gdp_ratio'] = average_data['s_s'] / average_data['gdp'] * 100

color_map = {
    'Australia': 'rgb(255, 0, 0)',        # Red
    'Austria': 'rgb(0, 255, 0)',          # Green
    'Belgium': 'rgb(0, 0, 255)',          # Blue
    'Canada': 'rgb(255, 255, 0)',         # Yellow
    'Chile': 'rgb(255, 0, 255)',          # Magenta
    'Colombia': 'rgb(0, 255, 255)',       # Cyan
    'Costa Rica': 'rgb(255, 127, 0)',     # Orange
    'Czechia': 'rgb(255, 0, 127)',        # Reddish-Pink
    'Denmark': 'rgb(0, 127, 255)',        # Bluish
    'Estonia': 'rgb(127, 255, 0)',        # Greenish-Yellow
    'Finland': 'rgb(0, 255, 127)',        # Greenish
    'France': 'rgb(127, 0, 255)',         # Purplish-Blue
    'Germany': 'rgb(255, 255, 127)',      # Light Yellow
    'Greece': 'rgb(127, 255, 255)',       # Light Cyan
    'Hungary': 'rgb(255, 127, 255)',      # Light Magenta
    'Iceland': 'rgb(255, 0, 0)',          # Red
    'Ireland': 'rgb(0, 255, 0)',          # Green
    'Israel': 'rgb(0, 0, 255)',           # Blue
    'Italy': 'rgb(255, 255, 0)',          # Yellow
    'Japan': 'rgb(255, 0, 255)',          # Magenta
    'Korea': 'rgb(0, 255, 255)',          # Cyan
    'Latvia': 'rgb(255, 127, 0)',         # Orange
    'Lithuania': 'rgb(255, 0, 127)',      # Reddish-Pink
    'Luxembourg': 'rgb(0, 127, 255)',     # Bluish
    'Mexico': 'rgb(127, 255, 0)',         # Greenish-Yellow
    'Netherlands': 'rgb(0, 255, 127)',    # Greenish
    'New Zealand': 'rgb(127, 0, 255)',    # Purplish-Blue
    'Norway': 'rgb(255, 255, 127)',      # Light Yellow
    'Poland': 'rgb(127, 255, 255)',       # Light Cyan
    'Portugal': 'rgb(255, 127, 255)',     # Light Magenta
    'Slovak Republic': 'rgb(255, 0, 0)',  # Red
    'Slovenia': 'rgb(0, 255, 0)',         # Green
    'Spain': 'rgb(0, 0, 255)',            # Blue
    'Sweden': 'rgb(255, 255, 0)',         # Yellow
    'Switzerland': 'rgb(255, 0, 255)',    # Magenta
    'Türkiye': 'rgb(0, 255, 255)',        # Cyan
    'United Kingdom': 'rgb(255, 127, 0)', # Orange
    'United States': 'rgb(255, 0, 127)',  # Reddish-Pink
}

average_data['color'] = average_data['Country'].map(color_map)
bubble_sizes = average_data['s_s_gdp_ratio'] * 1000

fig = go.Figure(data=go.Scatter(
    x=average_data['s_s_gdp_ratio'],
    y=average_data['gdp'],
    mode='markers',
    marker=dict(
        size=bubble_sizes,
        sizemode='area',
        sizeref=2.*max(bubble_sizes)/(100**2),
        sizemin=4,
        color=average_data['color']
    ),
    text=average_data.apply(lambda row: f"Country: {row['Country']}<br>Avg Social Spending: {row['s_s']:,}<br>Avg GDP: {row['gdp']:,}<br>Ratio: {row['s_s_gdp_ratio']:.4f}", axis=1),
))

fig.update_layout(
    title='Figure 3: Ratio of GDP Spent on Family Benefits',
    xaxis=dict(title='Average Percentage of GDP spent on Family Benefits'),  
    yaxis=dict(title='Average GDP (Billions) Over 20 Years'),
    showlegend=False
)

fig.show()
```

There is a drastic difference between countries like Iceland and the United States. 
 **Add table here **

 ** Add takeaways

## Education

Education plays a large role in the overall well-being of a Country. Specifically, the quantity of people with the education uquivalent of a Bachelors and Masters can help improve a country in regard to economic development, workforce skills and global competitiveness. Within the chart below, the OECD countries have been separated by their specific regions. The bar chart illustrates the total number of people with Bachelor Degrees and Masters Degrees by Region. 


## Population

## Wealth 

## Innovative Chart

## Conclusion